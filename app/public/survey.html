<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Survey</title>
  <!-- Latest compiled and minified CSS & JS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

</head>
<body>

  <div class="container">
    <div class="jumbotron">
      <h1>Friend Finder</h1>
      <h3>Finish the survey to find your perfect BFF</h3>
      <hr>
    </div>
    <div class="row">

      <div class="col-lg-12">

        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title"><strong>About You</strong></h3>
          </div>
          <div class="panel-body">
            <form method="POST" role="form">

              <div class="form-group">
                <label for="name">Name (Required)</label>
                <input type="text" class="form-control" id="name">
              </div>

              <div class="form-group">
                <label for="role">Link to Photo Image (Required)</label>
                <input type="text" class="form-control" id="photo">
              </div>

              <h3>question one</h3>
              <h4>You enjoy spending time outdoors</h4>
              <label>options</label>
              <select id = "answer1">
                <option value = "1">1(Strongly Disagree)</option>
                <option value = "2">2</option>
                <option value = "3">3</option>
                <option value = "4">4</option>
                <option value = "5">5(Strongly Agree</option>
              </select>

              <h3>question two</h3>
              <h4>You enjoy playing video games</h4>
              <label>options</label>
              <select id = "answer2">
                <option value = "1">1(Strongly Disagree)</option>
                <option value = "2">2</option>
                <option value = "3">3</option>
                <option value = "4">4</option>
                <option value = "5">5(Strongly Agree</option>
              </select>

              <h3>question three</h3>
              <h4>You would rather cook at home then go out to eat</h4>
              <label>options</label>
              <select id = "answer3">
                <option value = "1">1(Strongly Disagree)</option>
                <option value = "2">2</option>
                <option value = "3">3</option>
                <option value = "4">4</option>
                <option value = "5">5(Strongly Agree</option>
              </select>

              <h3>question four</h3>
              <h4>You prefer a dive bar to a night club</h4>
              <label>options</label>
              <select id = "answer4">
                <option value = "1">1(Strongly Disagree)</option>
                <option value = "2">2</option>
                <option value = "3">3</option>
                <option value = "4">4</option>
                <option value = "5">5(Strongly Agree</option>
              </select>

              <h3>question five</h3>
              <h4>You get along with most people</h4>
              <label>options</label>
              <select id = "answer5">
                <option value = "1">1(Strongly Disagree)</option>
                <option value = "2">2</option>
                <option value = "3">3</option>
                <option value = "4">4</option>
                <option value = "5">5(Strongly Agree</option>
              </select>

              <h3>question six</h3>
              <h4>You get angry easily</h4>
              <label>options</label>
              <select id = "answer6">
                <option value = "1">1(Strongly Disagree)</option>
                <option value = "2">2</option>
                <option value = "3">3</option>
                <option value = "4">4</option>
                <option value = "5">5(Strongly Agree</option>
              </select>

              <h3>question seven</h3>
              <h4>you would like to live forever</h4>
              <label>options</label>
              <select id = "answer7">
                <option value = "1">1(Strongly Disagree)</option>
                <option value = "2">2</option>
                <option value = "3">3</option>
                <option value = "4">4</option>
                <option value = "5">5(Strongly Agree</option>
              </select>

              <h3>question eight</h3>
              <h4>You enjoy foreign films</h4>
              <label>options</label>
              <select id = "answer8">
                <option value = "1">1(Strongly Disagree)</option>
                <option value = "2">2</option>
                <option value = "3">3</option>
                <option value = "4">4</option>
                <option value = "5">5(Strongly Agree</option>
              </select>

              <h3>question nine</h3>
              <h4>You like people</h4>
              <label>options</label>
              <select id = "answer9">
                <option value = "1">1(Strongly Disagree)</option>
                <option value = "2">2</option>
                <option value = "3">3</option>
                <option value = "4">4</option>
                <option value = "5">5(Strongly Agree</option>
              </select>

              <h3>question ten</h3>
              <h4>You like Pink Floyd</h4>
              <label>options</label>
              <select id = "answer10">
                <option value = "1">1(Strongly Disagree)</option>
                <option value = "2">2</option>
                <option value = "3">3</option>
                <option value = "4">4</option>
                <option value = "5">5(Strongly Agree</option>
              </select>

            </form>
            <br>
            <div class="text-right">
              <button type="submit" class="btn btn-primary btn-lg" id="add-btn"></span> Find Your BFF</button>
            </div>
          </div>
        </div>

      </div>
    </div>

    <footer class="footer">
      <div class="container">
        <p><a href="/api/friends">API Friends List</a></p>
      </div>
    </footer>

  </div>

<!-- Modal -->
  <div id="resultsModal" class="modal fade" role="dialog">
    <div class="modal-dialog">

      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h2 class="modal-title"><strong>Best Match</strong></h2>
        </div>
        <div class="modal-body">
          <h2 id="matchName"></h2>
          <img id="matchImg" src="" alt="">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>

    </div>
  </div>


  <script type="text/javascript">
    //capturing the values and sending them to the database
    $("#add-btn").on("click", function(event) {
      event.preventDefault();
      var newFriend = {
        name: $("#name").val().trim(),
        photo: $("#photo").val().trim(),
        scores: [$("#answer1").val(),
          $("#answer2").val(),
          $("#answer3").val(),
          $("#answer4").val(),
          $("#answer5").val(),
          $("#answer6").val(),
          $("#answer7").val(),
          $("#answer8").val(),
          $("#answer9").val(),
          $("#answer10").val()

        ]
        
      };

      console.log(newFriend);

      // 
      $.post("/api/friends", newFriend,
      function(data) {
        
        
        // clearing out input fields
        $("#name").val("");
        $("#photo").val("");
        $("#answers").val("");
      });
      //pulls best match data
      $.get("/api/friends", function(bestMatch) {
      
        console.log(bestMatch);
      });

    });
    //$.get("api/friends",){}

    $(document).ready(function(){

      $("#add-btn").click(function(){

        $("#resultsModal").modal('show');



      });

    });

    
  </script>

</body>
</html>
